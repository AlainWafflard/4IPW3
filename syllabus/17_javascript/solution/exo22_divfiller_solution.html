<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Exo 15-22 : remplissage d'un DIV</title>
<style type="text/css" media="all">
  table {
	border: 2px solid 
  }
  th {
	background-color: #FFCC66;
  }
  td {
	text-align:right;
  }
  div {
    border: 2px solid blue;
	width:480px;
  }
</style>
<script>
/**
 *  display_var affiche son param $va dans DIV#affiche
 */
function display_var($va, $device="div")
{
	switch( $device ) {
	case "div":
		can = document.getElementById("affiche");
		can.innerHTML = can.innerHTML + $va + "<br/>";
		break;
	case "alert" :
		alert($va);
		break;
	case "return":
		return ($va);
	}
}

/**
 *  display_array affiche le contenu du tableau dans DIV#affiche
 */
function display_array($ar, $device="div")
{
	// alert($ar.join('\n'));
	return display_var( JSON.stringify($ar), $device );
}

/**
 * display_ElementsByTagName affiche le contenu de tous les éléments $tagName 
 */
function display_ElementsByTagName($tagName, $device="div")
{
	var s = "";
	var nl = document.getElementsByTagName($tagName);
	s = s + display_var("longueur=" + nl.length + "\n", "return");
	for( var cle in nl )
	{
		s = s + display_var( cle + ": " + nl[cle].id + "\n", "return" );
	}
	display_var( s, $device);
}

/**
 * la fonction "ajouter" ajoute le contenu de l'input d'id "contenu" 
 * au div d'id "nouveau".
 */
function ajouter()
{
	var s = document.getElementById("ifContenu").value;
	// alert(s);
	can = document.getElementById("nouveau");
	can.innerHTML = can.innerHTML + s + "<br/>";
}

</script>
</head>
<body>

<h1>Ma petite entreprise</h1>

<div id="contenu">
  Voici la publication des r&eacute;sultats de ma petite entreprise.
</div>

<div id="contenu2">
  Vous trouverez toutes les donn&eacute;es dans le tableau ci dessous.
</div>

<div id="result"><table id="tab_res">
  <tr>
	<th>Pays</th>
	<th>Chiffre d'affaires</th>
	<th>R&eacute;sultats</th>        
  </tr>
  <tr>
	<td>Belgique</td>
	<td>€ 50000</td>
	<td>€ 12000</td>        
  </tr>
  <tr>
	<td>France</td>
	<td>€ 150000</td>
	<td>€ 20000</td>        
  </tr>
  <tr>
	<td>USA</td>
	<td>$ 20000</td>
	<td>$ -2000</td>        
  </tr>      
</table></div>

<div id="affiche">
	Panneau d'affichage <br/>
</div>

<div id="contenant">
	<input id="ifContenu" type="text" />
	<button onclick="ajouter();">
		Ajouter
	</button>
</div>

<script>

// Affichez dans une alerte la liste des id des div. 
display_ElementsByTagName("div", "alert");

// Créez par Javascript 
// un nouveau div à la fin du document 
// id : "nouveau" 
// contenu : "je suis un nouveau élément de type div"
var d = document.createElement("div");
d.setAttribute("id", "nouveau");
d.innerHTML = "je suis un nouveau élément de type div<br/>";
var b = document.getElementsByTagName("body");
b[0].appendChild(d);

</script>

</body>
</html>